#### crontab命令：用于定时任务
* 基本用法  
    1. crontab [-u user] file
        * 使用脚本文件定义的自定义定时任务在调用运行后，会被自动添加到该用户的crontab文件中
    2. crontab [ -u user ] [ -i ] { -e | -l | -r }
    * -u user: 一般由root来设置那个用户的定时任务
    * file：file是命令文件的名字,表示将file做为crontab的任务列表文件并载入crontab。如果在命令行中没有指定这个文件，crontab命令将接受标准输入（键盘）上键入的命令，并将它们载入crontab。
    * -e：编辑某个用户的crontab文件内容。如果不指定用户，则表示编辑当前用户的crontab文件。
    * -l：显示某个用户的crontab文件内容，如果不指定用户，则表示显示当前用户的crontab文件内容。
    * -r：从/var/spool/cron目录中删除某个用户的crontab文件，如果不指定用户，则默认删除当前用户的crontab文件。
    * -i：在删除用户的crontab文件时给确认提示。
* **即每个用户都会有一个其对应的定时crontab文件，所有的定时任务都写在那个文件里面**
* **定时任务一定是绝对路径，且目录必须存在才能出结果**
* **crontab服务一定要开启运行**
    * systemctl start/stop/restart cron
* **在crontab中%是有特殊含义的，表示换行的意思。如果要用的话必须进行转义\%，如经常用的date ‘+%Y%m%d’在crontab里是不会执行的，应该换成date ‘+\%Y\%m\%d’**
* 普通用户编辑的基本格式
```
// 每一行就是一个定时任务
    *   *   *   *   *   cmd
    分  时  天   月  周  定时的命令
分: 0-59
时：0-23
天： 1-31
月： 1-12
周： 0-7 （0或者7都代表周末）
*：代表都接受
,: 代表分割时间段： 0 3,6 * * * cmd 表示每天的3:00和6:00都会执行cmd
-: 表示一段范围时间内： 20 8-12 * * * cmd 表示8点到12点，每个小时的20分时会执行cmd
/n: 表示每间隔n单位时间： */5 * * * * cmd 表示每5分钟执行一次cmd
```
* 举例
    * \* \* \* \* \* echo $(date '+\\%Y-\\%m-\\%d \\%H:\\%M:\\%S') >> /home/david/cron.txt 2>/dev/null
------------------------
#### nohup 不挂断运行
* nohup cmd
    * nohup command > myout.file 2>&1 &   
* nohup和&的区别
    * &: 指在后台运行
    * nohup：不挂断的运行，注意并没有后台运行的功能，就是指用nohup运行命令可以使命令永久的执行下去，
        和用户终端没有关系，例如我们断开SSH连接都不会影响他的运行，注意了nohup没有后台运行的意思；&才是后台运行  
```
&是指在后台运行，但当用户推出(挂起)的时候，命令自动也跟着退出

那么，我们可以巧妙的吧他们结合起来用就是
nohup COMMAND &
这样就能使命令永久的在后台执行
例如：
1. sh test.sh &  
将sh test.sh任务放到后台 ，关闭xshell，对应的任务也跟着停止。
2. nohup sh test.sh  
将sh test.sh任务放到后台，关闭标准输入，终端不再能够接收任何输入（标准输入），重定向标准输出和标准错误到当前目录下的nohup.out文件，即使关闭xshell退出当前session依然继续运行。
3. nohup sh test.sh  & 
将sh test.sh任务放到后台，但是依然可以使用标准输入，终端能够接收任何输入，重定向标准输出和标准错误到当前目录下的nohup.out文件，即使关闭xshell退出当前session依然继续运行。
``` 